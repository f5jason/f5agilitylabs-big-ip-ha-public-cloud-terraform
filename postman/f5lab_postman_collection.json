{
	"info": {
		"_postman_id": "e8d2ccd8-10f5-4dd6-ad4b-238853285d7e",
		"name": "Agility Lab - BIG-IP HA in Public Cloud",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "Check F5 ATC Status",
			"item": [
				{
					"name": "BIG-IP #1",
					"item": [
						{
							"name": "bigip1 - Check DO",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": {
										"password": "{{bigip_admin_password}}",
										"username": "admin",
										"showPassword": false
									}
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "https://{{bigip1_mgmt_ip}}/mgmt/shared/declarative-onboarding/info"
							},
							"response": []
						},
						{
							"name": "bigip1 - Check AS3",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": {
										"password": "{{bigip_admin_password}}",
										"username": "admin",
										"showPassword": false
									}
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/x-www-form-urlencoded"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "https://{{bigip1_mgmt_ip}}/mgmt/shared/appsvcs/info"
							},
							"response": []
						},
						{
							"name": "bigip1 - Check CFE",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": {
										"password": "{{bigip_admin_password}}",
										"username": "admin",
										"showPassword": false
									}
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "https://{{bigip1_mgmt_ip}}/mgmt/shared/cloud-failover/info"
							},
							"response": []
						},
						{
							"name": "bigip1 - Check TS",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": {
										"password": "{{bigip_admin_password}}",
										"username": "admin",
										"showPassword": false
									}
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/x-www-form-urlencoded",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "https://{{bigip1_mgmt_ip}}/mgmt/shared/telemetry/info"
							},
							"response": []
						}
					]
				},
				{
					"name": "BIG-IP #2",
					"item": [
						{
							"name": "bigip2 - Check DO",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": {
										"password": "{{bigip_admin_password}}",
										"username": "admin",
										"showPassword": false
									}
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "https://{{bigip2_mgmt_ip}}/mgmt/shared/declarative-onboarding/info"
							},
							"response": []
						},
						{
							"name": "bigip2 - Check AS3",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": {
										"password": "{{bigip_admin_password}}",
										"username": "admin",
										"showPassword": false
									}
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/x-www-form-urlencoded"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "https://{{bigip2_mgmt_ip}}/mgmt/shared/appsvcs/info"
							},
							"response": []
						},
						{
							"name": "bigip2 - Check CFE",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": {
										"password": "{{bigip_admin_password}}",
										"username": "admin",
										"showPassword": false
									}
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "https://{{bigip2_mgmt_ip}}/mgmt/shared/cloud-failover/info"
							},
							"response": []
						},
						{
							"name": "bigip2 - Check TS",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": {
										"password": "{{bigip_admin_password}}",
										"username": "admin",
										"showPassword": false
									}
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/x-www-form-urlencoded",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": "https://{{bigip2_mgmt_ip}}/mgmt/shared/telemetry/info"
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Config - AS3",
			"item": [
				{
					"name": "Step 3: Create AS3 - Example01/example01 with AutoDiscover pool members",
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"password": "{{bigip_admin_password}}",
								"username": "admin",
								"showPassword": false
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"class\": \"ADC\",\n    \"schemaVersion\": \"3.11.0\",\n    \"label\": \"Converted Declaration\",\n    \"remark\": \"Auto-generated by Project Charon\",\n    \"Common\": {\n        \"class\": \"Tenant\",\n        \"Shared\": {\n            \"class\": \"Application\",\n            \"template\": \"shared\",\n            \"pool1\": {\n                \"class\": \"Pool\",\n                \"monitors\": [\n                    {\n                        \"bigip\": \"/Common/http\"\n                    }\n                ],\n                \"members\": [\n                    {\n                        \"servicePort\": 80,\n                        \"addressDiscovery\": \"aws\",\n                        \"region\": \"{{aws_region}}\",\n                        \"updateInterval\": 20,\n                        \"tagKey\": \"findme\",\n                        \"tagValue\": \"web\",\n                        \"addressRealm\": \"private\",\n                        \"adminState\": \"enable\",\n                        \"autoPopulate\": true,\n                        \"enable\": true\n                    }\n                ]\n            }\n        }\n    },\n    \"Example01\": {\n        \"class\": \"Tenant\",\n        \"Shared\": {\n            \"class\": \"Application\",\n            \"template\": \"shared\",\n            \"example01a\": {\n                \"remark\": \"basic standard virtual server\",\n                \"layer4\": \"tcp\",\n                \"pool\": \"/Common/Shared/pool1\",\n                \"translateServerAddress\": true,\n                \"translateServerPort\": true,\n                \"class\": \"Service_TCP\",\n                \"profileTCP\": {\n                    \"bigip\": \"/Common/tcp\"\n                },\n                \"virtualAddresses\": [\n                    {\n                        \"use\": \"example01a_service_address\"\n                    }\n                ],\n                \"virtualPort\": 80,\n                \"snat\": \"auto\"\n            },\n            \"example01a_service_address\": {\n                \"class\": \"Service_Address\",\n                \"virtualAddress\": \"{{bigip1_example01_address}}\",\n                \"arpEnabled\": true,\n                \"icmpEcho\": \"enable\",\n                \"routeAdvertisement\": \"enable\",\n                \"spanningEnabled\": false,\n                \"trafficGroup\": \"none\"\n            },\n            \"example01b\": {\n                \"remark\": \"basic standard virtual server\",\n                \"layer4\": \"tcp\",\n                \"pool\": \"/Common/Shared/pool1\",\n                \"translateServerAddress\": true,\n                \"translateServerPort\": true,\n                \"class\": \"Service_TCP\",\n                \"profileTCP\": {\n                    \"bigip\": \"/Common/tcp\"\n                },\n                \"virtualAddresses\": [\n                    {\n                        \"use\": \"example01b_service_address\"\n                    }\n                ],\n                \"virtualPort\": 80,\n                \"snat\": \"auto\"\n            },\n            \"example01b_service_address\": {\n                \"class\": \"Service_Address\",\n                \"virtualAddress\": \"{{bigip2_example01_address}}\",\n                \"arpEnabled\": true,\n                \"icmpEcho\": \"enable\",\n                \"routeAdvertisement\": \"enable\",\n                \"spanningEnabled\": false,\n                \"trafficGroup\": \"none\"\n            }\n        }\n    }\n}"
						},
						"url": {
							"raw": "https://{{bigip1_mgmt_ip}}/mgmt/shared/appsvcs/declare?show=full",
							"protocol": "https",
							"host": [
								"{{bigip1_mgmt_ip}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							],
							"query": [
								{
									"key": "show",
									"value": "full"
								}
							]
						},
						"description": "AutoDiscover nodes will only join pool and light up green if dummy IP exists in declaration?\n\n                  {\n                        \"servicePort\": 80,\n                        \"serverAddresses\": [\n                            \"192.168.0.55\"\n                        ]\n                    }"
					},
					"response": []
				},
				{
					"name": "Step 4: Create AS3 - Example01/example01 HA Modern Protocols",
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"password": "{{bigip_admin_password}}",
								"username": "admin",
								"showPassword": false
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"class\": \"ADC\",\n    \"schemaVersion\": \"3.11.0\",\n    \"id\": \"urn:uuid:68bee3e5-0c0c-49ed-b7c4-778362a5520b\",\n    \"label\": \"Converted Declaration\",\n    \"remark\": \"Auto-generated by Project Charon\",\n    \"Common\": {\n        \"class\": \"Tenant\",\n        \"Shared\": {\n            \"class\": \"Application\",\n            \"template\": \"shared\",\n            \"pool1\": {\n                \"members\": [\n                    {\n                        \"servicePort\": 80,\n                        \"addressDiscovery\": \"aws\",\n                        \"region\": \"{{aws_region}}\",\n                        \"updateInterval\": 20,\n                        \"tagKey\": \"findme\",\n                        \"tagValue\": \"web\",\n                        \"addressRealm\": \"private\",\n                        \"adminState\": \"enable\",\n                        \"autoPopulate\": true,\n                        \"enable\": true\n                    }\n                ],\n                \"monitors\": [\n                    {\n                        \"bigip\": \"/Common/http\"\n                    }\n                ],\n                \"class\": \"Pool\"\n            }\n        }\n    },\n    \"Example01\": {\n        \"class\": \"Tenant\",\n        \"Shared\": {\n            \"class\": \"Application\",\n            \"template\": \"shared\",\n            \"certificate_default\": {\n                \"class\": \"Certificate\",\n                \"certificate\": {\n                    \"bigip\": \"/Common/default.crt\"\n                },\n                \"privateKey\": {\n                    \"bigip\": \"/Common/default.key\"\n                }\n            },\n            \"clientssl_secure_example01\": {\n                \"certificates\": [\n                    {\n                        \"certificate\": \"certificate_default\"\n                    }\n                ],\n                \"ciphers\": \"none\",\n                \"renegotiationEnabled\": false,\n                \"class\": \"TLS_Server\"\n            },\n            \"http2_example01\": {\n                \"class\": \"HTTP2_Profile\",\n                \"enforceTlsRequirements\": false\n            },\n            \"example01a\": {\n                \"remark\": \"basic standard virtual server\",\n                \"layer4\": \"tcp\",\n                \"pool\": \"/Common/Shared/pool1\",\n                \"translateServerAddress\": true,\n                \"translateServerPort\": true,\n                \"class\": \"Service_HTTPS\",\n                \"profileHTTP\": {\n                    \"bigip\": \"/Common/http\"\n                },\n                \"profileMultiplex\": {\n                    \"bigip\": \"/Common/oneconnect\"\n                },\n                \"profileTCP\": {\n                    \"bigip\": \"/Common/tcp\"\n                },\n                \"serverTLS\": \"clientssl_secure_example01\",\n                \"virtualAddresses\": [\n                    {\n                        \"use\": \"example01a_service_address\"\n                    }\n                ],\n                \"virtualPort\": 443,\n                \"snat\": \"auto\"\n            },\n            \"example01a_service_address\": {\n                \"class\": \"Service_Address\",\n                \"virtualAddress\": \"{{bigip1_example01_address}}\",\n                \"arpEnabled\": true,\n                \"icmpEcho\": \"enable\",\n                \"routeAdvertisement\": \"enable\",\n                \"spanningEnabled\": false,\n                \"trafficGroup\": \"none\"\n            },\n            \"example01b\": {\n                \"remark\": \"basic standard virtual server\",\n                \"layer4\": \"tcp\",\n                \"pool\": \"/Common/Shared/pool1\",\n                \"translateServerAddress\": true,\n                \"translateServerPort\": true,\n                \"class\": \"Service_HTTPS\",\n                \"profileHTTP\": {\n                    \"bigip\": \"/Common/http\"\n                },\n                \"profileMultiplex\": {\n                    \"bigip\": \"/Common/oneconnect\"\n                },\n                \"profileTCP\": {\n                    \"bigip\": \"/Common/tcp\"\n                },\n                \"serverTLS\": \"clientssl_secure_example01\",\n                \"virtualAddresses\": [\n                    {\n                        \"use\": \"example01b_service_address\"\n                    }\n                ],\n                \"virtualPort\": 443,\n                \"snat\": \"auto\"\n            },\n            \"example01b_service_address\": {\n                \"class\": \"Service_Address\",\n                \"virtualAddress\": \"{{bigip2_example01_address}}\",\n                \"arpEnabled\": true,\n                \"icmpEcho\": \"enable\",\n                \"routeAdvertisement\": \"enable\",\n                \"spanningEnabled\": false,\n                \"trafficGroup\": \"none\"\n            }\n        }\n    }\n}"
						},
						"url": {
							"raw": "https://{{bigip1_mgmt_ip}}/mgmt/shared/appsvcs/declare?show=full",
							"protocol": "https",
							"host": [
								"{{bigip1_mgmt_ip}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							],
							"query": [
								{
									"key": "show",
									"value": "full"
								}
							]
						},
						"description": "Works but I have to create the http2 profile first."
					},
					"response": []
				},
				{
					"name": "Step 5: Create AS3 - Example01/example01 HA Modern Protocols",
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"password": "{{bigip_admin_password}}",
								"username": "admin",
								"showPassword": false
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"class\": \"ADC\",\n    \"schemaVersion\": \"3.11.0\",\n    \"id\": \"urn:uuid:68bee3e5-0c0c-49ed-b7c4-778362a5520b\",\n    \"label\": \"Converted Declaration\",\n    \"remark\": \"Auto-generated by Project Charon\",\n    \"Common\": {\n        \"class\": \"Tenant\",\n        \"Shared\": {\n            \"class\": \"Application\",\n            \"template\": \"shared\",\n            \"pool1\": {\n                \"members\": [\n                    {\n                        \"servicePort\": 80,\n                        \"addressDiscovery\": \"aws\",\n                        \"region\": \"{{aws_region}}\",\n                        \"updateInterval\": 20,\n                        \"tagKey\": \"findme\",\n                        \"tagValue\": \"web\",\n                        \"addressRealm\": \"private\",\n                        \"adminState\": \"enable\",\n                        \"autoPopulate\": true,\n                        \"enable\": true\n                    }\n                ],\n                \"monitors\": [\n                    {\n                        \"bigip\": \"/Common/http\"\n                    }\n                ],\n                \"class\": \"Pool\"\n            }\n        }\n    },\n    \"Example01\": {\n        \"class\": \"Tenant\",\n        \"Shared\": {\n            \"class\": \"Application\",\n            \"template\": \"shared\",\n            \"certificate_default\": {\n                \"class\": \"Certificate\",\n                \"certificate\": {\n                    \"bigip\": \"/Common/default.crt\"\n                },\n                \"privateKey\": {\n                    \"bigip\": \"/Common/default.key\"\n                }\n            },\n            \"clientssl_secure_example01\": {\n                \"certificates\": [\n                    {\n                        \"certificate\": \"certificate_default\"\n                    }\n                ],\n                \"ciphers\": \"none\",\n                \"renegotiationEnabled\": false,\n                \"class\": \"TLS_Server\"\n            },\n            \"http2_example01\": {\n                \"class\": \"HTTP2_Profile\",\n                \"enforceTlsRequirements\": false\n            },\n            \"example01a\": {\n                \"remark\": \"basic standard virtual server\",\n                \"layer4\": \"tcp\",\n                \"pool\": \"/Common/Shared/pool1\",\n                \"translateServerAddress\": true,\n                \"translateServerPort\": true,\n                \"class\": \"Service_HTTPS\",\n                \"profileHTTP\": {\n                    \"bigip\": \"/Common/http\"\n                },\n                \"profileMultiplex\": {\n                    \"bigip\": \"/Common/oneconnect\"\n                },\n                \"profileTCP\": {\n                    \"bigip\": \"/Common/tcp\"\n                },\n                \"serverTLS\": \"clientssl_secure_example01\",\n                \"virtualAddresses\": [\n                    {\n                        \"use\": \"example01a_service_address\"\n                    }\n                ],\n                \"virtualPort\": 443,\n                \"snat\": \"auto\",\n                \"profileHTTP2\": {\n                    \"bigip\": \"/Example01/Shared/http2_example01\"\n                }\n            },\n            \"example01a_service_address\": {\n                \"class\": \"Service_Address\",\n                \"virtualAddress\": \"{{bigip1_example01_address}}\",\n                \"arpEnabled\": true,\n                \"icmpEcho\": \"enable\",\n                \"routeAdvertisement\": \"enable\",\n                \"spanningEnabled\": false,\n                \"trafficGroup\": \"none\"\n            },\n            \"example01b\": {\n                \"remark\": \"basic standard virtual server\",\n                \"layer4\": \"tcp\",\n                \"pool\": \"/Common/Shared/pool1\",\n                \"translateServerAddress\": true,\n                \"translateServerPort\": true,\n                \"class\": \"Service_HTTPS\",\n                \"profileHTTP\": {\n                    \"bigip\": \"/Common/http\"\n                },\n                \"profileMultiplex\": {\n                    \"bigip\": \"/Common/oneconnect\"\n                },\n                \"profileTCP\": {\n                    \"bigip\": \"/Common/tcp\"\n                },\n                \"serverTLS\": \"clientssl_secure_example01\",\n                \"virtualAddresses\": [\n                    {\n                        \"use\": \"example01b_service_address\"\n                    }\n                ],\n                \"virtualPort\": 443,\n                \"snat\": \"auto\",\n                \"profileHTTP2\": {\n                    \"bigip\": \"/Example01/Shared/http2_example01\"\n                }\n            },\n            \"example01b_service_address\": {\n                \"class\": \"Service_Address\",\n                \"virtualAddress\": \"{{bigip2_example01_address}}\",\n                \"arpEnabled\": true,\n                \"icmpEcho\": \"enable\",\n                \"routeAdvertisement\": \"enable\",\n                \"spanningEnabled\": false,\n                \"trafficGroup\": \"none\"\n            }\n        }\n    }\n}"
						},
						"url": {
							"raw": "https://{{bigip1_mgmt_ip}}/mgmt/shared/appsvcs/declare?show=full",
							"protocol": "https",
							"host": [
								"{{bigip1_mgmt_ip}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							],
							"query": [
								{
									"key": "show",
									"value": "full"
								}
							]
						},
						"description": "Works but I have to create the http2 profile first."
					},
					"response": []
				},
				{
					"name": "Step 6: Create AS3 - Example01/example01 ECDSA Cert",
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"password": "{{bigip_admin_password}}",
								"username": "admin",
								"showPassword": false
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"class\": \"ADC\",\n    \"schemaVersion\": \"3.11.0\",\n    \"id\": \"urn:uuid:68bee3e5-0c0c-49ed-b7c4-778362a5520b\",\n    \"label\": \"Converted Declaration\",\n    \"remark\": \"Auto-generated by Project Charon\",\n    \"Common\": {\n        \"class\": \"Tenant\",\n        \"Shared\": {\n            \"class\": \"Application\",\n            \"template\": \"shared\",\n            \"pool1\": {\n                \"members\": [\n                    {\n                        \"servicePort\": 80,\n                        \"addressDiscovery\": \"aws\",\n                        \"region\": \"{{aws_region}}\",\n                        \"updateInterval\": 20,\n                        \"tagKey\": \"findme\",\n                        \"tagValue\": \"web\",\n                        \"addressRealm\": \"private\",\n                        \"adminState\": \"enable\",\n                        \"autoPopulate\": true,\n                        \"enable\": true\n                    }\n                ],\n                \"monitors\": [\n                    {\n                        \"bigip\": \"/Common/http\"\n                    }\n                ],\n                \"class\": \"Pool\"\n            }\n        }\n    },\n    \"Example01\": {\n        \"class\": \"Tenant\",\n        \"Shared\": {\n            \"class\": \"Application\",\n            \"template\": \"shared\",\n            \"certificate_default\": {\n                \"class\": \"Certificate\",\n                \"certificate\": {\n                    \"bigip\": \"/Common/default.crt\"\n                },\n                \"privateKey\": {\n                    \"bigip\": \"/Common/default.key\"\n                }\n            },\n            \"clientssl_secure_example01a\": {\n                \"certificates\": [\n                    {\n                        \"certificate\": \"webcert1a\"\n                    }\n                ],\n                \"renegotiationEnabled\": false,\n                \"class\": \"TLS_Server\"\n            },\n            \"webcert1a\": {\n                \"class\": \"Certificate\",\n                \"remark\": \"in practice we recommend using a passphrase\",\n                \"certificate\": \"{{example01a_cert}}\",\n                \"privateKey\": \"{{example01a_key}}\"\n            },\n            \"clientssl_secure_example01b\": {\n                \"certificates\": [\n                    {\n                        \"certificate\": \"webcert1b\"\n                    }\n                ],\n                \"renegotiationEnabled\": false,\n                \"class\": \"TLS_Server\"\n            },\n            \"webcert1b\": {\n                \"class\": \"Certificate\",\n                \"remark\": \"in practice we recommend using a passphrase\",\n                \"certificate\": \"{{example01b_cert}}\",\n                \"privateKey\": \"{{example01b_key}}\"\n            },\n            \"http2_example01\": {\n                \"class\": \"HTTP2_Profile\",\n                \"enforceTlsRequirements\": false\n            },\n            \"example01a\": {\n                \"remark\": \"basic standard virtual server\",\n                \"layer4\": \"tcp\",\n                \"pool\": \"/Common/Shared/pool1\",\n                \"translateServerAddress\": true,\n                \"translateServerPort\": true,\n                \"class\": \"Service_HTTPS\",\n                \"profileHTTP\": {\n                    \"bigip\": \"/Common/http\"\n                },\n                \"profileMultiplex\": {\n                    \"bigip\": \"/Common/oneconnect\"\n                },\n                \"profileTCP\": {\n                    \"bigip\": \"/Common/tcp\"\n                },\n                \"serverTLS\": \"clientssl_secure_example01a\",\n                \"virtualAddresses\": [\n                    {\n                        \"use\": \"example01a_service_address\"\n                    }\n                ],\n                \"virtualPort\": 443,\n                \"snat\": \"auto\",\n                \"profileHTTP2\": {\n                    \"bigip\": \"/Example01/Shared/http2_example01\"\n                }\n            },\n            \"example01a_service_address\": {\n                \"class\": \"Service_Address\",\n                \"virtualAddress\": \"{{bigip1_example01_address}}\",\n                \"arpEnabled\": true,\n                \"icmpEcho\": \"enable\",\n                \"routeAdvertisement\": \"enable\",\n                \"spanningEnabled\": false,\n                \"trafficGroup\": \"none\"\n            },\n            \"example01b\": {\n                \"remark\": \"basic standard virtual server\",\n                \"layer4\": \"tcp\",\n                \"pool\": \"/Common/Shared/pool1\",\n                \"translateServerAddress\": true,\n                \"translateServerPort\": true,\n                \"class\": \"Service_HTTPS\",\n                \"profileHTTP\": {\n                    \"bigip\": \"/Common/http\"\n                },\n                \"profileMultiplex\": {\n                    \"bigip\": \"/Common/oneconnect\"\n                },\n                \"profileTCP\": {\n                    \"bigip\": \"/Common/tcp\"\n                },\n                \"serverTLS\": \"clientssl_secure_example01b\",\n                \"virtualAddresses\": [\n                    {\n                        \"use\": \"example01b_service_address\"\n                    }\n                ],\n                \"virtualPort\": 443,\n                \"snat\": \"auto\",\n                \"profileHTTP2\": {\n                    \"bigip\": \"/Example01/Shared/http2_example01\"\n                }\n            },\n            \"example01b_service_address\": {\n                \"class\": \"Service_Address\",\n                \"virtualAddress\": \"{{bigip2_example01_address}}\",\n                \"arpEnabled\": true,\n                \"icmpEcho\": \"enable\",\n                \"routeAdvertisement\": \"enable\",\n                \"spanningEnabled\": false,\n                \"trafficGroup\": \"none\"\n            }\n        }\n    }\n}"
						},
						"url": {
							"raw": "https://{{bigip1_mgmt_ip}}/mgmt/shared/appsvcs/declare?show=full",
							"protocol": "https",
							"host": [
								"{{bigip1_mgmt_ip}}"
							],
							"path": [
								"mgmt",
								"shared",
								"appsvcs",
								"declare"
							],
							"query": [
								{
									"key": "show",
									"value": "full"
								}
							]
						},
						"description": "Works but I have to move the \"No TLSV1.3\" out of the Enabled Options list. How can I make the clientssl-secure the parent profile instead of clientssl?"
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Config - Cloud Failover Extension",
			"item": [
				{
					"name": "Step 3: POST f5-cloud-failover - BIGIP1",
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"password": "{{bigip_admin_password}}",
								"username": "admin",
								"showPassword": false
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"class\": \"Cloud_Failover\",\n    \"environment\": \"aws\",\n    \"externalStorage\": {\n        \"scopingTags\": {\n            \"f5_cloud_failover_label\": \"mydeployment\"\n        }\n    },\n    \"failoverAddresses\": {\n        \"scopingTags\": {\n            \"f5_cloud_failover_label\": \"example01\"\n        }\n    }\n}"
						},
						"url": "https://{{bigip1_mgmt_ip}}/mgmt/shared/cloud-failover/declare"
					},
					"response": []
				},
				{
					"name": "Step 4: POST f5-cloud-failover - BIGIP2",
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"password": "{{bigip_admin_password}}",
								"username": "admin",
								"showPassword": false
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"class\": \"Cloud_Failover\",\n    \"environment\": \"aws\",\n    \"externalStorage\": {\n        \"scopingTags\": {\n            \"f5_cloud_failover_label\": \"mydeployment\"\n        }\n    },\n    \"failoverAddresses\": {\n        \"scopingTags\": {\n            \"f5_cloud_failover_label\": \"example01\"\n        }\n    }\n}"
						},
						"url": "https://{{bigip2_mgmt_ip}}/mgmt/shared/cloud-failover/declare"
					},
					"response": []
				}
			]
		},
		{
			"name": "Config - Telemetry Streaming",
			"item": [
				{
					"name": "Step 3: Telemetry Streaming AWS - BIGIP1",
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"password": "{{bigip_admin_password}}",
								"username": "admin",
								"showPassword": false
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"class\": \"Telemetry\",\n    \"My_System\": {\n        \"class\": \"Telemetry_System\",\n        \"systemPoller\": {\n            \"interval\": 60\n        }\n    },\n    \"My_Listener\": {\n        \"class\": \"Telemetry_Listener\",\n        \"port\": 6514\n    },\n    \"My_Consumer\": {\n        \"class\": \"Telemetry_Consumer\",\n        \"type\": \"AWS_CloudWatch\",\n        \"region\": \"{{aws_region}}\",\n        \"logGroup\": \"studentf5labdev\",\n        \"logStream\": \"log-stream\",\n        \"username\": \"{{AWS_ACCESS_KEY_ID}}\",\n        \"passphrase\": {\n            \"cipherText\": \"{{AWS_SECRET_ACCESS_KEY}}\"\n        }\n    }\n}"
						},
						"url": "https://{{bigip1_mgmt_ip}}/mgmt/shared/telemetry/declare"
					},
					"response": []
				},
				{
					"name": "Step 4: Telemetry Streaming AWS - BIGIP2",
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"password": "{{bigip_admin_password}}",
								"username": "admin",
								"showPassword": false
							}
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"class\": \"Telemetry\",\n    \"My_System\": {\n        \"class\": \"Telemetry_System\",\n        \"systemPoller\": {\n            \"interval\": 60\n        }\n    },\n    \"My_Listener\": {\n        \"class\": \"Telemetry_Listener\",\n        \"port\": 6514\n    },\n    \"My_Consumer\": {\n        \"class\": \"Telemetry_Consumer\",\n        \"type\": \"AWS_CloudWatch\",\n        \"region\": \"{{aws_region}}\",\n        \"logGroup\": \"studentf5labdev\",\n        \"logStream\": \"log-stream\",\n        \"username\": \"{{AWS_ACCESS_KEY_ID}}\",\n        \"passphrase\": {\n            \"cipherText\": \"{{AWS_SECRET_ACCESS_KEY}}\"\n        }\n    }\n}"
						},
						"url": "https://{{bigip2_mgmt_ip}}/mgmt/shared/telemetry/declare"
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Misc",
			"item": [
				{
					"name": "Install F5 ATC Packages",
					"item": [
						{
							"name": "Upload and Install to BIG-IP1",
							"item": [
								{
									"name": "Step 1: REST API - Upload DO iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"command\": \"run\", \"utilCmdArgs\": \"-c \\\"cd /var/config/rest/downloads/ && curl -sk -LJO {{do_url}}\\\"\"\n}"
										},
										"url": "https://{{bigip1_mgmt_ip}}/mgmt/tm/util/bash"
									},
									"response": []
								},
								{
									"name": "Step 2: REST API - Install DO iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"operation\":\"INSTALL\",\"packageFilePath\":\"/var/config/rest/downloads/{{do_file}}\"\n}"
										},
										"url": "https://{{bigip1_mgmt_ip}}/mgmt/shared/iapp/package-management-tasks"
									},
									"response": []
								},
								{
									"name": "Step 3: REST API - Upload AS3 iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"command\": \"run\", \"utilCmdArgs\": \"-c \\\"cd /var/config/rest/downloads/ && curl -sk -LJO {{as3_url}}\\\"\"\n}"
										},
										"url": "https://{{bigip1_mgmt_ip}}/mgmt/tm/util/bash"
									},
									"response": []
								},
								{
									"name": "Step 4: REST API - Install AS3 iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"operation\":\"INSTALL\",\"packageFilePath\":\"/var/config/rest/downloads/{{as3_file}}\"\n}"
										},
										"url": "https://{{bigip1_mgmt_ip}}/mgmt/shared/iapp/package-management-tasks"
									},
									"response": []
								},
								{
									"name": "Step 5: REST API - Upload CFE iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"command\": \"run\", \"utilCmdArgs\": \"-c \\\"cd /var/config/rest/downloads/ && curl -sk -LJO {{cfe_url}}\\\"\"\n}"
										},
										"url": "https://{{bigip1_mgmt_ip}}/mgmt/tm/util/bash"
									},
									"response": []
								},
								{
									"name": "Step 6: REST API - Install CFE iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"operation\":\"INSTALL\",\"packageFilePath\":\"/var/config/rest/downloads/{{cfe_file}}\"\n}"
										},
										"url": "https://{{bigip1_mgmt_ip}}/mgmt/shared/iapp/package-management-tasks"
									},
									"response": []
								},
								{
									"name": "Step 7: REST API - Upload TS iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"command\": \"run\", \"utilCmdArgs\": \"-c \\\"cd /var/config/rest/downloads/ && curl -sk -LJO {{ts_url}}\\\"\"\n}"
										},
										"url": "https://{{bigip1_mgmt_ip}}/mgmt/tm/util/bash"
									},
									"response": []
								},
								{
									"name": "Step 8: REST API - Install TS iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"operation\":\"INSTALL\",\"packageFilePath\":\"/var/config/rest/downloads/{{ts_file}}\"\n}"
										},
										"url": "https://{{bigip1_mgmt_ip}}/mgmt/shared/iapp/package-management-tasks"
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"",
											"pm.collectionVariables.set(\"bigip1_mgmt_ip\", pm.environment.get(\"bigip1_mgmt_ip\"));"
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							]
						},
						{
							"name": "Upload and Install to BIG-IP2",
							"item": [
								{
									"name": "Step 1: REST API - Upload DO iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"command\": \"run\", \"utilCmdArgs\": \"-c \\\"cd /var/config/rest/downloads/ && curl -sk -LJO {{do_url}}\\\"\"\n}"
										},
										"url": "https://{{bigip2_mgmt_ip}}/mgmt/tm/util/bash"
									},
									"response": []
								},
								{
									"name": "Step 2: REST API - Install DO iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"operation\":\"INSTALL\",\"packageFilePath\":\"/var/config/rest/downloads/{{do_file}}\"\n}"
										},
										"url": "https://{{bigip2_mgmt_ip}}/mgmt/shared/iapp/package-management-tasks"
									},
									"response": []
								},
								{
									"name": "Step 3: REST API - Upload AS3 iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"command\": \"run\", \"utilCmdArgs\": \"-c \\\"cd /var/config/rest/downloads/ && curl -sk -LJO {{as3_url}}\\\"\"\n}"
										},
										"url": "https://{{bigip2_mgmt_ip}}/mgmt/tm/util/bash"
									},
									"response": []
								},
								{
									"name": "Step 4: REST API - Install AS3 iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"operation\":\"INSTALL\",\"packageFilePath\":\"/var/config/rest/downloads/{{as3_file}}\"\n}"
										},
										"url": "https://{{bigip2_mgmt_ip}}/mgmt/shared/iapp/package-management-tasks"
									},
									"response": []
								},
								{
									"name": "Step 5: REST API - Upload CFE iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"command\": \"run\", \"utilCmdArgs\": \"-c \\\"cd /var/config/rest/downloads/ && curl -sk -LJO {{cfe_url}}\\\"\"\n}"
										},
										"url": "https://{{bigip2_mgmt_ip}}/mgmt/tm/util/bash"
									},
									"response": []
								},
								{
									"name": "Step 6: REST API - Install CFE iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"operation\":\"INSTALL\",\"packageFilePath\":\"/var/config/rest/downloads/{{cfe_file}}\"\n}"
										},
										"url": "https://{{bigip2_mgmt_ip}}/mgmt/shared/iapp/package-management-tasks"
									},
									"response": []
								},
								{
									"name": "Step 7: REST API - Upload TS iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"command\": \"run\", \"utilCmdArgs\": \"-c \\\"cd /var/config/rest/downloads/ && curl -sk -LJO {{ts_url}}\\\"\"\n}"
										},
										"url": "https://{{bigip2_mgmt_ip}}/mgmt/tm/util/bash"
									},
									"response": []
								},
								{
									"name": "Step 8: REST API - Install TS iLX Package",
									"request": {
										"auth": {
											"type": "basic",
											"basic": {
												"password": "{{bigip_admin_password}}",
												"username": "admin",
												"showPassword": false
											}
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"operation\":\"INSTALL\",\"packageFilePath\":\"/var/config/rest/downloads/{{ts_file}}\"\n}"
										},
										"url": "https://{{bigip2_mgmt_ip}}/mgmt/shared/iapp/package-management-tasks"
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"",
											"pm.collectionVariables.set(\"bigip2_mgmt_ip\", pm.environment.get(\"bigip2_mgmt_ip\"));"
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							]
						}
					]
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "do_url",
			"value": "https://github.com/F5Networks/f5-declarative-onboarding/releases/download/v1.36.0/{{do_file}}"
		},
		{
			"key": "as3_url",
			"value": "https://github.com/F5Networks/f5-appsvcs-extension/releases/download/v3.43.0/{{as3_file}}"
		},
		{
			"key": "cfe_url",
			"value": "https://github.com/F5Networks/f5-cloud-failover-extension/releases/download/v1.14.0/{{cfe_file}}"
		},
		{
			"key": "ts_url",
			"value": "https://github.com/F5Networks/f5-telemetry-streaming/releases/download/v1.32.0/{{ts_file}}"
		},
		{
			"key": "do_file",
			"value": "f5-declarative-onboarding-1.36.0-4.noarch.rpm"
		},
		{
			"key": "as3_file",
			"value": "f5-appsvcs-3.43.0-2.noarch.rpm"
		},
		{
			"key": "cfe_file",
			"value": "f5-cloud-failover-1.14.0-0.noarch.rpm"
		},
		{
			"key": "ts_file",
			"value": "f5-telemetry-1.32.0-2.noarch.rpm"
		}
	]
}